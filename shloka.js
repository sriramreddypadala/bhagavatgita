// Shloka data structure with audio paths
// Shloka data structure with audio paths
const shlokaData = {
    "shloka1": {
        sanskrit: "अगजानन-पद्मार्कं गजाननम्-अहर्निशम्।\nअनेकदंतं भक्तानाम् एकदंतम् उपास्महे ॥१॥",
        telugu: {
            text: "అగజానన పద్మార్కం గజాననం అహర్నిశం\nఅనేకదంతం భక్తానాం ఏకదంతం ఉపాస్మహే ॥",
            translation: "భక్తులకు అనేక రూపాలలో కనిపించే ఏకదంతుడైన గణేశుని సేవిస్తున్నాము...",
            explanation: "ఈ శ్లోకంలో గణపతి యొక్క వివిధ గుణాలను వర్ణించడం జరిగింది...",
            audio: {
                male: 'audio/shloka1_telugu_male.mp3',
                female: 'audio/shloka1_telugu_female.mp3'
            }
        },
        english: {
            text: "We worship the one-tusked Lord Ganesha...",
            translation: "We meditate upon the elephant-faced Lord...",
            explanation: "This shloka describes various attributes of Lord Ganesha...",
            audio: {
                male: 'audio/shloka1_english_male.mp3',
                female: 'audio/shloka1_english_female.mp3'
            }
        },
        malayalam: {
            text: "അഗജാനന പദ്മാർക്കം ഗജാനനം...",
            translation: "ഭക്തർക്ക് అనേകം రూపాల్లో కనిపించే ఏകదന്തനായ ഗణേശునി సేవిస్తున్నాము...",
            explanation: "ഈ ശ്ലോകം ഗణേശന്റെ వివిధ ഗుణങ്ങളെ వివరിക്കുന്നു...",
            audio: {
                male: 'audio/shloka1_malayalam_male.mp3',
                female: 'audio/shloka1_malayalam_female.mp3'
            }
        }
    },
    "shloka2": {
        sanskrit: "अश्रद्दधानाः पुरुषा धर्मस्यास्य परन्तप।\nअप्राप्य मां निवर्तन्ते मृत्युसंसारवर्त्मनि॥",
        telugu: {
            text: "అశ్రద్ధధానాః పురుషా ధర్మస్యాస్య పరంతప |\nఅప్రాప్య మాం నివర్తంతే మృత్యుసంసారవర్త్మని ||",
            translation: "Those who have no faith in this dharma, O Parantapa, do not attain Me and return to the cycle of birth and death.",
            explanation: "ఈ శ్లోకంలో భగవంతుడు ధర్మం పట్ల అశ్రద్ధ ఉన్న వ్యక్తులు మోక్షాన్ని పొందలేరని చెబుతున్నారు.",
            audio: {
                male: 'audio/shloka2_telugu_male.mp3',
                female: 'audio/shloka2_telugu_female.mp3'
            }
        },
        english: {
            text: "Ashraddadhanah purusha dharmasyasya parantapa,\nApraapya maam nivartante mrityusamsaravartmani.",
            translation: "Those who are faithless in this dharma, O Arjuna, do not attain Me and return to the cycle of birth and death.",
            explanation: "This verse emphasizes the importance of faith in the path of righteousness for attaining liberation.",
            audio: {
                male: 'audio/shloka2_english_male.mp3',
                female: 'audio/shloka2_english_female.mp3'
            }
        },
        malayalam: {
            text: "അശ്രദ്ദധാനാഃ പുരുഷാ ധര്‍മസ്യാസ്യ పరന്തപ |\nഅപ്രാപ്യ മാം നിവര്‍ത്തന്തേ മൃത്യുസംസാരവര്‍ത്ത്മനി ||",
            translation: "ഈ ధర్మത്തിൽ വിശ്വാസമില്ലാത്തവർ, പരന്തപ, എന്നെ പ്രാപിക്കാതെ, ജന്മമരണത്തിന്റെ ചക്രത്തിലേക്ക് തിരികെ പോകുന്നു.",
            explanation: "ഈ ശ്ലോകം ధర్మത്തിൽ വിശ്വാസത്തിന്റെ പ്രാധാന്യം വ്യക്തമാക്കുന്നു.",
            audio: {
                male: 'audio/shloka2_malayalam_male.mp3',
                female: 'audio/shloka2_malayalam_female.mp3'
            }
        }
    },
    "shloka3": {
        sanskrit: "मया ततमिदं सर्वं जगदव्यक्तमूर्तिना।\nमस्तानि सर्वभूतानि न चाहं तेष्ववस्थितः॥",
        telugu: {
            text: "మయా తతమిదం సర్వం జగదవ్యక్తమూర్తినా |\nమస్తాని సర్వభూతాని న చాహం తేష్వవస్థితః ||",
            translation: "I pervade this entire universe in My unmanifested form. All beings exist in Me, but I do not dwell in them.",
            explanation: "ఈ శ్లోకంలో భగవంతుడు తన అప్రాకృత రూపంలో సృష్టిని ఎలా కవర్ చేస్తాడో వివరించారు.",
            audio: {
                male: 'audio/shloka3_telugu_male.mp3',
                female: 'audio/shloka3_telugu_female.mp3'
            }
        },
        english: {
            text: "Maya tatamidam sarvam jagadavyaktamurtina,\nMastani sarvabhutani na chaham tesvavasthitah.",
            translation: "I pervade the entire universe in My unmanifested form. All beings exist in Me, but I do not dwell in them.",
            explanation: "This verse illustrates the omnipresence of the Divine, indicating that while all beings exist within Him, He is not limited to them.",
            audio: {
                male: 'audio/shloka3_english_male.mp3',
                female: 'audio/shloka3_english_female.mp3'
            }
        },
        malayalam: {
            text: "മയാ തതമിദം സര്വം ജഗദവ്യക്തമൂര്‍ത്തിനാ |\nമസ്താനി സര്വഭൂതാനി ന ചാഹം തേഷ്വവസ്ഥിതഃ ||",
            translation: "ഞാൻ എന്റെ അപ്രാകൃത രൂപത്തിൽ ഈ സൃഷ്ടിയെ മുഴുവനും ആകർഷിക്കുന്നു. എല്ലാ ജീവികളും എന്നിൽ ഉണ്ട്, എന്നാൽ ഞാൻ അവയിൽ ഇല്ല.",
            explanation: "ഈ ശ്ലോകം ദൈവത്തിന്റെ സർവവ്യാപിത്വത്തെ വ്യക്തമാക്കുന്നു, എല്ലാ ജീവികളും അവന്റെ ഉള്ളിൽ ഉണ്ട് എന്നതിനെ സൂചിപ്പിക്കുന്നു.",
            audio: {
                male: 'audio/shloka3_malayalam_male.mp3',
                female: 'audio/shloka3_malayalam_female.mp3'
            }
        }
    },
    "shloka4": {
        sanskrit: "न च मत्स्थानि भूतानि पश्य मे योगमैश्वरम्।\nभूतभृन्न च भूतस्थो ममात्मा भूतभावनः॥",
        telugu: {
            text: "న చ మత్స్థాని భూతాని పశ్య మే యోగమైశ్వరమ్ |\nభూతభృన్న చ భూతస్థో మమాత్మా భూతభావనః ||",
            translation: "Beings do not dwell in Me, O Arjuna. Behold My divine opulence. I am the sustainer of all beings, yet I am not in them.",
            explanation: "ఈ శ్లోకంలో భగవంతుడు తన యోగమైశ్వరాన్ని ప్రదర్శిస్తున్నారు, ఆయన సృష్టిలో ఉన్నప్పటికీ, ఆయన వాటిలో ఉండరు.",
            audio: {
                male: 'audio/shloka4_telugu_male.mp3',
                female: 'audio/shloka4_telugu_female.mp3'
            }
        },
        english: {
            text: "Na cha matsthani bhutani pashya me yogamaishwaram,\nBhutabhrit na cha bhutastho mamatma bhutabhavanah.",
            translation: "Beings do not dwell in Me, O Arjuna. Behold My divine opulence. I am the sustainer of all beings, yet I am not in them.",
            explanation: "This verse emphasizes the distinction between the Divine and His creation, highlighting His role as the sustainer.",
            audio: {
                male: 'audio/shloka4_english_male.mp3',
                female: 'audio/shloka4_english_female.mp3'
            }
        },
        malayalam: {
            text: "ന చ മത്സ്ഥാനി ഭൂതാനി పശ്യ മേ యോഗమൈശ്വരം |\nഭൂതഭൃന്ന ച ഭൂതസ്ഥോ മമാത്മാ ഭൂതഭാവനഃ ||",
            translation: "ജീവികൾ എന്നിൽ ఉండవు, അർജുന. എന്റെ ദിവ്യശക്തിയെ കാണുക. ഞാൻ എല്ലാ ജീവികളുടെ പോషകനാണ്, എന്നാൽ ഞാൻ അവയിൽ ഇല്ല.",
            explanation: "ഈ ശ്ലോകം ദൈവവും, അവന്റെ സൃഷ്ടിയും തമ്മിലുള്ള വ്യത്യാസത്തെ വ്യക്തമാക്കുന്നു.",
            audio: {
                male: 'audio/shloka4_malayalam_male.mp3',
                female: 'audio/shloka4_malayalam_female.mp3'
            }
        }
    },
    "shloka5": {
        sanskrit: "यथाकाशस्थितो नित्यं वायुः सर्वत्रगो महान्।\nतथा सर्वाणि भूतानि मत्स्थानीत्युपधारय॥",
        telugu: {
            text: "యథాకాశస్థితో నిత్యం వాయుః సర్వత్రగో మహాన్ |\nతథా సర్వాణి భూతాని మత్స్థానీత్యుపధారయ ||",
            translation: "As the mighty wind, blowing everywhere, rests in the sky, know that all beings rest in Me.",
            explanation: "ఈ శ్లోకంలో వాయువు ఎలా ఆకాశంలో ఉండి, అన్ని జీవులు దైవంలో ఎలా ఉంటాయో వివరించారు.",
            audio: {
                male: 'audio/shloka5_telugu_male.mp3',
                female: 'audio/shloka5_telugu_female.mp3'
            }
        },
        english: {
            text: "Yathakashasthito nityam vayuh sarvatrago mahan,\nTatha sarvani bhutani matsthanityupadharaya.",
            translation: "Just as the mighty wind, blowing everywhere, rests in the sky, know that all beings rest in Me.",
            explanation: "This verse uses the analogy of wind to illustrate how all beings exist within the Divine.",
            audio: {
                male: 'audio/shloka5_english_male.mp3',
                female: 'audio/shloka5_english_female.mp3'
            }
        },
        malayalam: {
            text: "യഥാകാശസ്ഥിതോ നിത്യം വായുഃ സര്വത്രഗോ മഹാന് |\nതഥാ സര്വാണി ഭൂതാനി മത്സ്ഥാനീത്യുപധാരയ ||",
            translation: "ശക്തമായ വായു എങ്ങനെ ആകാശത്തിൽ ఉండുന്നു, എല്ലാ ജീവികളും എങ്ങനെ എന്നിൽ ఉంటాయെന്ന് അറിയുക.",
            explanation: "ഈ ശ്ലോകം ദൈവത്തിൽ എല്ലാ ജീവികളും എങ്ങനെ നിലനിൽക്കുന്നു എന്നതിനെ വിശദീകരിക്കുന്നു.",
            audio: {
                male: 'audio/shloka5_malayalam_male.mp3',
                female: 'audio/shloka5_malayalam_female.mp3'
            }
        }
    },
    "shloka6": {
        sanskrit: "सर्वभूतानि कौन्तेय प्रकृतिं यान्ति मामिकाम्।\nकल्पक्षये पुनस्तानि कल्पादौ विसृजाम्यहम्॥",
        telugu: {
            text: "సర్వభూతాని కౌంతేయ ప్రకృతిం యాంతి మామికామ్ |\nకల్పక్షయే పునస్తాని కల్పాదౌ విసృజామ్యహమ్ ||",
            translation: "All beings, O Kaunteya, enter My nature at the end of the cycle, and I send them forth again at the beginning of the cycle.",
            explanation: "ఈ శ్లోకంలో భగవంతుడు సృష్టి మరియు ప్రళయ చక్రాలను వివరించారు.",
            audio: {
                male: 'audio/shloka6_telugu_male.mp3',
                female: 'audio/shloka6_telugu_female.mp3'
            }
        },
        english: {
            text: "Sarvabhutani kaunteya prakritim yanti mamikam,\nKalpakshaye punastani kalpadau visrijamyaham.",
            translation: "All beings, O Kaunteya, enter My nature at the end of the cycle, and I send them forth again at the beginning of the cycle.",
            explanation: "This verse explains the cyclical nature of creation and dissolution in the universe.",
            audio: {
                male: 'audio/shloka6_english_male.mp3',
                female: 'audio/shloka6_english_female.mp3'
            }
        },
        malayalam: {
            text: "സര്വഭൂതാനി കൗന്തേയ പ്രകൃതിം యാന്തി മാമികാം |\nകല്പക്ഷയേ പുനസ്താനി കല്പാദൌ വിസൃജാമ്യഹം ||",
            translation: "എല്ലാ ജീവികളും, കౌന്തേയ, പ്രളയത്തിൽ എന്റെ പ്രകൃതിയിൽ ప్రవేశిస్తాయి, ഞാൻ അവയെ വീണ്ടും സൃഷ്ടിക്കുന്നു.",
            explanation: "ഈ ശ്ലോകം സൃഷ്ടിയും, പ്രളయവും തമ്മിലുള്ള ചക്രాన్ని വിശദീകരിക്കുന്നു.",
            audio: {
                male: 'audio/shloka6_malayalam_male.mp3',
                female: 'audio/shloka6_malayalam_female.mp3'
            }
        }
    },
    "shloka7": {
        sanskrit: "प्रकृतिं स्वामवष्टभ्य विसृजामि पुनः पुनः।\nभूतग्राममिमं कृत्स्नमवशं प्रकृतेर्वशात्॥",
        telugu: {
            text: "ప్రకృతిం స్వామవష్టభ్య విసృజామి పునః పునః |\nభూతగ్రామమిమం కృత్స్నమవశం ప్రకృతేవశాత్ ||",
            translation: "I create this entire universe, again and again, by controlling My own nature. All beings are under the control of nature.",
            explanation: "ఈ శ్లోకంలో భగవంతుడు తన స్వభావాన్ని ఎలా నియంత్రించుకుంటాడో వివరించారు.",
            audio: {
                male: 'audio/shloka7_telugu_male.mp3',
                female: 'audio/shloka7_telugu_female.mp3'
            }
        },
        english: {
            text: "Prakritim swamavashtabhya visrijami punah punah,\nBhutagramamimam kritsnamavasham prakriteh vashat.",
            translation: "I create this entire universe, again and again, by controlling My own nature. All beings are under the control of nature.",
            explanation: "This verse highlights the Divine's role in creation and the influence of nature on all beings.",
            audio: {
                male: 'audio/shloka7_english_male.mp3',
                female: 'audio/shloka7_english_female.mp3'
            }
        },
        malayalam: {
            text: "പ്രകൃതിം സ്വാമവഷ്ടഭ്യ വിസൃജാമി പുനഃ പുനഃ |\nഭൂതഗ്രാമമിമം കൃത്സ്നമവശം പ്രകൃതേവശാത് ||",
            translation: "ഞാൻ എന്റെ പ്രകൃതിയെ నియంత్రించి, ഈ സൃഷ്ടിയെ വീണ്ടും വീണ്ടും സൃഷ്ടിക്കുന്നു. എല്ലാ ജീവികളും പ്രകൃതിയുടെ നിയന്ത്രണത്തിൽ ഉണ്ട്.",
            explanation: "ഈ ശ്ലോകം സൃഷ്ടിയിൽ ദൈവത്തിന്റെ പങ്കും, പ്രകృతിയുടെ ప్రభാവాన్ని വ്യക്തമാക്കുന്നു.",
            audio: {
                male: 'audio/shloka7_malayalam_male.mp3',
                female: 'audio/shloka7_malayalam_female.mp3'
            }
        }
    },
    "shloka8": {
        sanskrit: "न च मां तानि कर्माणि निबध्नन्ति धनञ्जय।\nउदासीनवदासीनमसक्तं तेषु कर्मसु॥",
        telugu: {
            text: "న చ మాం తాని కర్మాణి నిబధ్నంతి ధనంజయ |\nఉదాసీనవదాసీనమసక్తం తేషు కర్మసు ||",
            translation: "O Dhananjaya, actions do not bind Me, for I am unattached to them. I am like a neutral observer.",
            explanation: "ఈ శ్లోకంలో భగవంతుడు తన నిర్లిప్తతను మరియు కర్మలపై తన ప్రభావాన్ని వివరించారు.",
            audio: {
                male: 'audio/shloka8_telugu_male.mp3',
                female: 'audio/shloka8_telugu_female.mp3'
            }
        },
        english: {
            text: "Na cha mam tani karmani nibadhnanti dhananjaya,\nUdaseenavadasinam asaktam teshu karmasu.",
            translation: "O Dhananjaya, actions do not bind Me, for I am unattached to them. I am like a neutral observer.",
            explanation: "This verse emphasizes the Divine's detachment from actions, illustrating the concept of being a witness.",
            audio: {
                male: 'audio/shloka8_english_male.mp3',
                female: 'audio/shloka8_english_female.mp3'
            }
        },
        malayalam: {
            text: "ന చ മാം తాని కర్మాణి నిబధ్నంతి ధనంజయ |\nఉదాసీనవదాసీనమസక్తം తేషు కర్మసు ||",
            translation: "ఓ ధనంజయ, പ്രവർത്തనలు എന്നെ బంధించవు, ఎందుకంటే నేను వాటికి నిర్లిప్తుడిని. నేను ఒక నిర్లిప్త పరిశీలకుడిని.",
            explanation: "ఈ ശ്ലോകం దైవం కర్మలపై నిర్లిప్తతను మరియు పరిశీలకుడిగా ఉండటాన్ని స్పష్టం చేస్తుంది.",
            audio: {
                male: 'audio/shloka8_malayalam_male.mp3',
                female: 'audio/shloka8_malayalam_female.mp3'
            }
        }
    },
    "shloka9": {
        sanskrit: "मयाध्यक्षेण प्रकृतिः सूयते सचराचरम्।\nहेतुनानेन कौन्तेय जगद्विपरिवर्तते॥",
        telugu: {
            text: "మయాధ్యక్షేణ ప్రకృతిః సూయతే సచరాచరమ్ |\nహేతునానేన కౌంతేయ జగద్విపరివర్తతే ||",
            translation: "Under My supervision, nature produces all moving and non-moving beings. O Kaunteya, the world revolves due to this.",
            explanation: "ఈ శ్లోకంలో భగవంతుడు ప్రకృతిని ఎలా నియంత్రించుకుంటాడో మరియు ప్రపంచం ఎలా తిరుగుతుందో వివరించారు.",
            audio: {
                male: 'audio/shloka9_telugu_male.mp3',
                female: 'audio/shloka9_telugu_female.mp3'
            }
        },
        english: {
            text: "Mayadhyakshena prakritih suyate sacharacharam,\nHetunanena kaunteya jagad viparivartate.",
            translation: "Under My supervision, nature produces all moving and non-moving beings. O Kaunteya, the world revolves due to this.",
            explanation: "This verse highlights the Divine's role in governing nature and the cyclical nature of existence.",
            audio: {
                male: 'audio/shloka9_english_male.mp3',
                female: 'audio/shloka9_english_female.mp3'
            }
        },
        malayalam: {
            text: "മയാധ്യക്ഷേണ പ്രകൃതിഃ സൂയതേ സചരാചരം |\nഹേതുനാനേന കൗന്തേയ ജഗദ് വിപരിവര്തതേ ||",
            translation: "എന്റെ മേൽനോട്ടത്തിൽ, പ്രകൃതിയിലൂടെ സഞ്ചരിക്കുന്നവയും, സഞ്ചരിക്കാത്തവയും സൃഷ്ടിക്കുന്നു. കౌന്തേയ, ഈ കാരണം കൊണ്ട് ലോകം തിരിയുന്നു.",
            explanation: "ഈ ശ്ലോകം പ്രകൃതിയുടെ നിയന്ത്രణలో ദൈവത്തിന്റെ പങ്കును വ്യക്തമാക്കുന്നു.",
            audio: {
                male: 'audio/shloka9_malayalam_male.mp3',
                female: 'audio/shloka9_malayalam_female.mp3'
            }
        }
    },
    "shloka10": {
        sanskrit: "अवजानन्ति मां मूढा मानुषीं तनुमाश्रितम्।\nपरं भावमजानन्तो मम भूतमहेश्वरम्॥",
        telugu: {
            text: "అవజానంతి మాం మూఢా మానుషీం తనుమాశ్రితం |\nపరం భావమజానంతో మమ భూతమహేశ్వరమ్ ||",
            translation: "Fools disregard Me, who am concealed in human form. They do not understand My supreme nature as the great Lord.",
            explanation: "ఈ శ్లోకంలో భగవంతుడు తన మానవ రూపాన్ని ఎలా అంగీకరించలేదో మరియు తన మహత్త్వాన్ని వివరించారు.",
            audio: {
                male: 'audio/shloka10_telugu_male.mp3',
                female: 'audio/shloka10_telugu_female.mp3'
            }
        },
        english: {
            text: "Avajananti mam mudha manushim tanumashritam,\nParam bhavamajananto mama bhutamaheshwaram.",
            translation: "Fools disregard Me, who am concealed in human form. They do not understand My supreme nature as the great Lord.",
            explanation: "This verse points out the ignorance of those who fail to recognize the Divine in human form.",
            audio: {
                male: 'audio/shloka10_english_male.mp3',
                female: 'audio/shloka10_english_female.mp3'
            }
        },
        malayalam: {
            text: "അവജാനന്തി മാം മൂഢാ മാനുഷീം തനുമാശ്രിതം |\nപരം ഭാവമജാനന്തോ മമ ഭൂതമഹേശ്വരം ||",
            translation: "മൂഢന്മാർ എന്നെ അവഗണിക്കുന്നു, ഞാൻ മനുഷ്യരൂപത്തിൽ മറഞ്ഞിരിക്കുന്നവൻ. അവർ എന്റെ മഹത്ത്വത്തെ అర్థం చేసుకోరు.",
            explanation: "ഈ ശ്ലോകം మానవ రూపంలో దైవాన్ని గుర్తించలేని వారి అజ్ఞാനത്തെ స్పష్టం చేస్తుంది.",
            audio: {
                male: 'audio/shloka10_malayalam_male.mp3',
                female: 'audio/shloka10_malayalam_female.mp3'
            }
        }
    },
    "shloka11": {
        sanskrit: "मोघाशा मोघकर्माणो मोघज्ञाना विचेतसः।\nराक्षसीमासुरीं चैव प्रकृतिं मोहिनीं श्रिताः॥",
        telugu: {
            text: "మొఘాశా మొఘకర్మాణో మొఘజ్ఞానా విచేతసః |\nరాక్షసీమాసురీం చైవ ప్రకృతిం మోహినీం శ్రితాః ||",
            translation: "Those who are deluded by vain hopes, futile actions, and ignorance, take refuge in demonic and asuric natures.",
            explanation: "ఈ శ్లోకంలో అజ్ఞానం మరియు అశ్రద్ధతో కూడిన వ్యక్తుల గురించి వివరించారు.",
            audio: {
                male: 'audio/shloka11_telugu_male.mp3',
                female: 'audio/shloka11_telugu_female.mp3'
            }
        },
        english: {
            text: "Moghasha moghakarmano moghajnana vichetasah,\nRakshasim asurim chaiva prakritim mohinim shritah.",
            translation: "Those who are deluded by vain hopes, futile actions, and ignorance, take refuge in demonic and asuric natures.",
            explanation: "This verse describes the characteristics of those who are misled by ignorance and false hopes.",
            audio: {
                male: 'audio/shloka11_english_male.mp3',
                female: 'audio/shloka11_english_female.mp3'
            }
        },
        malayalam: {
            text: "മോഘാശാ മോഘകര്‍മ്മാണോ മോഘജ്ഞാനാ വിചേതസഃ |\nരാക്ഷസీమാസുരീം ചൈവ പ്രകൃതിം മോഹിനീം ശ്രിതാഃ ||",
            translation: "മോഘമായ ఆశలు, മോഘമായ പ്രവർത്തനങ്ങൾ, മോഘമായ ജ്ഞാനത്തിൽ മുങ്ങിയവൻ, ദൈവവിരുദ്ധമായ പ്രകൃതിയിൽ അഭയം തേടുന്നു.",
            explanation: "ഈ ശ്ലോകം అజ్ఞానం మరియు అశ్రద్ధతో కూడిన వ్యక్తుల లక్షణాలను వివరിക്കുന്നു.",
            audio: {
                male: 'audio/shloka11_malayalam_male.mp3',
                female: 'audio/shloka11_malayalam_female.mp3'
            }
        }
    },
    "shloka12": {
        sanskrit: "मोघाशा मोघकर्माणो मोघज्ञाना विचेतसः।\nराक्षसीमासुरीं चैव प्रकृतिं मोहिनीं श्रिताः॥",
        telugu: {
            text: "మొఘాశా మొఘకర్మాణో మొఘజ్ఞానా విచేతసః |\nరాక్షసీమాసురీం చైవ ప్రకృతిం మోహినీం శ్రితాః ||",
            translation: "Those who are deluded by vain hopes, futile actions, and ignorance, take refuge in demonic and asuric natures.",
            explanation: "This verse describes the characteristics of those who are misled by ignorance and false hopes.",
            audio: {
                male: 'audio/shloka12_telugu_male.mp3',
                female: 'audio/shloka12_telugu_female.mp3'
            }
        },
        english: {
            text: "Moghasha moghakarmano moghajnana vichetasah,\nRakshasim asurim chaiva prakritim mohinim shritah.",
            translation: "Those who are deluded by vain hopes, futile actions, and ignorance, take refuge in demonic and asuric natures.",
            explanation: "This verse describes the characteristics of those who are misled by ignorance and false hopes.",
            audio: {
                male: 'audio/shloka12_english_male.mp3',
                female: 'audio/shloka12_english_female.mp3'
            }
        },
        malayalam: {
            text: "മോഘാശാ മോഘകര്‍മ്മാണോ മോഘജ്ഞാനാ വിചേതസഃ |\nരാക്ഷസീമാസുരീം ചൈവ പ്രകൃതിം മോഹിനീം ശ്രിതാഃ ||",
            translation: "Those who are deluded by vain hopes, futile actions, and ignorance, take refuge in demonic and asuric natures.",
            explanation: "This verse describes the characteristics of those who are misled by ignorance and false hopes.",
            audio: {
                male: 'audio/shloka12_malayalam_male.mp3',
                female: 'audio/shloka12_malayalam_female.mp3'
            }
        }
    }
    // Add more shlokas if needed
    // ...
};
document.addEventListener('DOMContentLoaded', function() {
    // ... existing code ...

    // State management
    let currentState = {
        shloka: 'shloka1',
        language: 'telugu',
        isFemaleVoice: false,
        speed: 1.0,
        volume: 1.0,
        isPlaying: false,
        currentTime: 0,
        lastVolume: 1.0
    };

    // Settings history for undo
    const settingsHistory = {
        stack: [],
        maxSize: 10,
        
        push(state) {
            if (this.stack.length >= this.maxSize) {
                this.stack.shift();
            }
            this.stack.push({...state});
        },
        
        undo() {
            if (this.stack.length > 1) {
                this.stack.pop();
                return {...this.stack[this.stack.length - 1]};
            }
            return null;
        }
    };

    // Initialize elements
    const elements = {
        langButtons: document.querySelectorAll('.lang-btn'),
        shlokaButtons: document.querySelectorAll('.shloka-btn'),
        tabButtons: document.querySelectorAll('.tab-btn'),
        meaningPanels: document.querySelectorAll('.meaning-panel'),
        voiceToggle: document.querySelector('.voice-toggle'),
        speedButtons: document.querySelectorAll('.speed-options button'),
        playBtn: document.querySelector('.play-btn'),
        undoBtn: document.querySelector('.undo-btn'),
        volumeSlider: document.querySelector('.volume-slider'),
        volumeBtn: document.querySelector('.volume-btn'),
        volumePercentage: document.querySelector('.volume-percentage'),
        timeDisplay: document.querySelector('.time-display'),
        sanskritText: document.querySelector('.sanskrit-text'),
        translationText: document.querySelector('.translation-text'),
        explanationText: document.querySelector('.explanation-text')
    };

    // Save initial state
    settingsHistory.push(currentState);

    // Update content based on language
    function updateContent(language) {
        const shloka = shlokaData[currentState.shloka];
        
        // Update Sanskrit text (always visible)
        elements.sanskritText.innerHTML = `
            <div class="original-sanskrit">${shloka.sanskrit}</div>
            <div class="transliteration">${shloka[language].text}</div>
        `;

        // Update translation and explanation
        elements.translationText.innerHTML = shloka[language].translation;
        elements.explanationText.innerHTML = shloka[language].explanation;

        // Update audio source
        updateAudioSource();
    }

    // Audio functionality
    let currentAudio = new Audio();
    
    function updateAudioSource() {
        const shloka = shlokaData[currentState.shloka];
        const gender = currentState.isFemaleVoice ? 'female' : 'male';
        const newSource = shloka[currentState.language].audio[gender];
        
        if (currentAudio.src !== newSource) {
            const wasPlaying = !currentAudio.paused;
            currentAudio.src = newSource;
            currentAudio.playbackRate = currentState.speed;
            currentAudio.volume = currentState.volume;
            if (wasPlaying) {
                currentAudio.play();
            }
        }
    }

    // Event Listeners for all buttons
    
    // 1. Language Buttons
    elements.langButtons.forEach(button => {
        button.addEventListener('click', () => {
            const newLanguage = button.dataset.lang;
            settingsHistory.push({...currentState});
            
            elements.langButtons.forEach(btn => btn.classList.remove('active'));
            button.classList.add('active');
            
            currentState.language = newLanguage;
            updateContent(newLanguage);
        });
    });

    // 2. Shloka Buttons
    elements.shlokaButtons.forEach(button => {
        button.addEventListener('click', () => {
            const newShloka = 'shloka' + button.dataset.shloka;
            settingsHistory.push({...currentState});
            
            elements.shlokaButtons.forEach(btn => btn.classList.remove('active'));
            button.classList.add('active');
            
            currentState.shloka = newShloka;
            updateContent(currentState.language);
        });
    });

    // 3. Tab Buttons
    elements.tabButtons.forEach(button => {
        button.addEventListener('click', () => {
            const targetTab = button.dataset.tab;
            
            elements.tabButtons.forEach(btn => btn.classList.remove('active'));
            elements.meaningPanels.forEach(panel => panel.classList.remove('active'));
            
            button.classList.add('active');
            document.getElementById(targetTab).classList.add('active');
        });
    });

    // 4. Voice Toggle
    elements.voiceToggle.addEventListener('click', () => {
        settingsHistory.push({...currentState});
        currentState.isFemaleVoice = !currentState.isFemaleVoice;
        elements.voiceToggle.classList.toggle('female');
        updateAudioSource();
    });

    // 5. Speed Buttons
    elements.speedButtons.forEach(button => {
        button.addEventListener('click', () => {
            settingsHistory.push({...currentState});
            
            elements.speedButtons.forEach(btn => btn.classList.remove('active'));
            button.classList.add('active');
            
            currentState.speed = parseFloat(button.dataset.speed);
            currentAudio.playbackRate = currentState.speed;
        });
    });

    // 6. Play Button
    elements.playBtn.addEventListener('click', () => {
        currentState.isPlaying = !currentState.isPlaying;
        
        if (currentState.isPlaying) {
            elements.playBtn.innerHTML = '<span class="play-icon">।।</span>';
            currentAudio.play();
        } else {
            elements.playBtn.innerHTML = '<span class="play-icon">॥</span>';
            currentAudio.pause();
        }
    });

    // 7. Volume Controls
    elements.volumeSlider.addEventListener('input', (e) => {
        settingsHistory.push({...currentState});
        const value = e.target.value / 100;
        
        currentState.volume = value;
        currentAudio.volume = value;
        elements.volumePercentage.textContent = Math.round(value * 100) + '%';
        
        updateVolumeIcon(value);
    });

    elements.volumeBtn.addEventListener('click', () => {
        settingsHistory.push({...currentState});
        
        if (currentState.volume > 0) {
            currentState.lastVolume = currentState.volume;
            currentState.volume = 0;
        } else {
            currentState.volume = currentState.lastVolume || 1;
        }
        
        currentAudio.volume = currentState.volume;
        elements.volumeSlider.value = currentState.volume * 100;
        elements.volumePercentage.textContent = Math.round(currentState.volume * 100) + '%';
        
        updateVolumeIcon(currentState.volume);
    });

    // 8. Undo Button
    elements.undoBtn.addEventListener('click', () => {
        const previousState = settingsHistory.undo();
        if (previousState) {
            currentState = {...previousState};
            updateContent(currentState.language);
        }
    });

    // Initialize with default state
    updateContent(currentState.language);
}); 